<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A&M INTERNATIONAL ENGINEERING PTE LTD</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 您的所有原有样式完全保持不变 */
        .automation-bg {
            background: url('Image/IAI.jpg') center/cover;
            background-size: cover;
        }

        .solutions-bg {
            background: url('Image/ETE.jpg') center/cover;
            background-size: cover;
        }

        .security-bg {
            background: url('Image/SC.jpg') center/cover;
            background-size: cover;
        }

        .business-concept {
            padding: 4rem 1rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .concept-card {
            position: relative;
            margin: 2rem 0;
            padding: 2.5rem;
            border-radius: 15px;
            overflow: hidden;
            color: #fff;
            min-height: 300px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            transition: transform 0.3s ease;
            z-index: 0;
        }

        .concept-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(255, 255, 255, 0.3);
            z-index: -1;
        }

        .concept-card:hover {
            transform: translateY(-5px);
        }

        .concept-card h2, .concept-card p {
            position: relative;
            z-index: 2;
            color: #fff;
            text-shadow: 2px 2px 2px rgba(0, 0, 0, 0.5);
        }

        .concept-card h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            border-left: 4px solid #00b4d8;
            padding-left: 1rem;
        }

        .concept-card p {
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 800px;
        }

        @media (max-width: 768px) {
            .concept-card {
                min-height: 250px;
                padding: 1.5rem;
            }
        }

        .footer-menu {
            display: flex;
            justify-content: space-between;
            gap: 2rem;
            padding: 2rem 1rem;
            background: #222;
            color: #fff;
            flex-wrap: wrap;
        }

        .footer-column {
            flex: 1;
            min-width: 200px;
        }

        .footer-column h3 {
            margin-bottom: 1rem;
            font-size: 1.2rem;
            border-left: 4px solid #00b4d8;
            padding-left: 0.5rem;
        }

        .footer-column ul {
            list-style: none;
            padding: 0;
        }

        .footer-column ul li {
            margin: 0.5rem 0;
        }

        .footer-column ul li a {
            color: #fff;
            text-decoration: none;
        }

        .footer-column ul li a:hover {
            text-decoration: underline;
        }

        footer {
            background: #111;
            color: #aaa;
            text-align: center;
            padding: 1rem;
        }

        /* 搜索栏样式 */
        .search-container {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            padding: 2px;
            border: 1px solid #ccc;
            position: relative;
        }

        .search-input {
            border: none;
            outline: none;
            padding: 8px 15px;
            border-radius: 25px;
            width: 200px;
            font-size: 14px;
            background: transparent;
        }

        .search-button {
            background: #00b4d8;
            border: none;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 2px;
            transition: background 0.3s ease;
        }

        .search-button:hover {
            background: #0099b8;
        }

        .search-icon {
            width: 16px;
            height: 16px;
            object-fit: contain;
        }

        /* 下拉搜索结果样式 */
        .search-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            max-height: 300px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }

        .search-result-item {
            padding: 12px 15px;
            border-bottom: 1px solid #f0f0f0;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .search-result-item:hover {
            background-color: #f8f9fa;
        }

        .search-result-item:last-child {
            border-bottom: none;
        }

        .search-result-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 4px;
        }

        .search-result-content {
            color: #666;
            font-size: 0.9em;
            line-height: 1.4;
        }

        .search-result-url {
            color: #00b4d8;
            font-size: 0.8em;
            margin-top: 4px;
        }

        .no-results {
            padding: 15px;
            text-align: center;
            color: #666;
        }

        .google-search-link {
            display: block;
            padding: 10px 15px;
            background: #f8f9fa;
            color: #00b4d8;
            text-decoration: none;
            text-align: center;
            border-top: 1px solid #e9ecef;
            font-weight: bold;
        }

        .google-search-link:hover {
            background: #e9ecef;
        }
    </style>
</head>

<body>
    <div id="header-placeholder"></div>

    <script>
    // 页面数据
    const pages = [
        {
            title: "Home",
            content: "Welcome to A&M INTERNATIONAL ENGINEERING PTE LTD. We provide professional integration solutions.",
            url: "index.html"
        },
        {
            title: "Solutions",
            content: "Our solutions include supply chain optimization, digital transformation, and operational risk management.",
            url: "Solutions.html"
        },
        {
            title: "Products & Services",
            content: "Explore our services including control, measurement, and project execution.",
            url: "services.html"
        },
        {
            title: "Support",
            content: "Access technical support, product finder, and customer portal.",
            url: "Support.html"
        },
        {
            title: "Contact Us",
            content: "Reach out to us through our contact form or find our office location.",
            url: "contact.html"
        }
    ];

    // 显示下拉搜索结果
    function showSearchResults(results, query) {
        const dropdown = document.getElementById('search-results-dropdown');
        if (!dropdown) {
            console.error('Dropdown element not found');
            return;
        }

        console.log('Showing search results:', results.length, 'for query:', query);

        if (results.length === 0) {
            // 没有结果，显示Google搜索选项
            dropdown.innerHTML = `
                <div class="no-results">
                    <p>No results found for "<strong>${query}</strong>"</p>
                </div>
                <a href="https://www.google.com/search?q=${encodeURIComponent('A&M INTERNATIONAL ENGINEERING ' + query)}" 
                   target="_blank" class="google-search-link">
                   Search on Google for "${query}"
                </a>
            `;
        } else {
            // 显示搜索结果
            dropdown.innerHTML = results.map(page => `
                <div class="search-result-item" onclick="window.location.href='${page.url}'">
                    <div class="search-result-title">${page.title}</div>
                    <div class="search-result-content">${page.content.substring(0, 100)}...</div>
                    <div class="search-result-url">${page.url}</div>
                </div>
            `).join('');
        }
        
        dropdown.style.display = 'block';
    }

    // 隐藏下拉结果
    function hideSearchResults() {
        const dropdown = document.getElementById('search-results-dropdown');
        if (dropdown) {
            setTimeout(() => {
                dropdown.style.display = 'none';
            }, 200);
        }
    }

    // 执行搜索
    function performSearch() {
        const searchInput = document.getElementById('search-input');
        const query = searchInput ? searchInput.value.trim() : '';
        
        console.log('Performing search for:', query);
        
        if (!query) {
            hideSearchResults();
            alert('Please enter search keywords');
            return;
        }

        // 在页面中搜索
        const results = pages.filter(page =>
            page.title.toLowerCase().includes(query.toLowerCase()) ||
            page.content.toLowerCase().includes(query.toLowerCase())
        );

        showSearchResults(results, query);
    }

    // 实时搜索
    function handleRealTimeSearch() {
        const query = this.value.trim();
        console.log('Real-time search:', query);
        
        if (query.length < 2) {
            hideSearchResults();
            return;
        }
        
        // 在页面中搜索
        const results = pages.filter(page =>
            page.title.toLowerCase().includes(query.toLowerCase()) ||
            page.content.toLowerCase().includes(query.toLowerCase())
        );

        showSearchResults(results, query);
    }

    // 初始化搜索功能 - 简化和修复版本
    function initSearchFunctionality() {
        console.log('Initializing search functionality...');
        
        const searchInput = document.getElementById('search-input');
        const searchButton = document.getElementById('search-button');
        
        console.log('Search input found:', !!searchInput);
        console.log('Search button found:', !!searchButton);
        
        if (searchInput && searchButton) {
            // 移除可能存在的旧事件监听器
            const newSearchInput = searchInput.cloneNode(true);
            const newSearchButton = searchButton.cloneNode(true);
            searchInput.parentNode.replaceChild(newSearchInput, searchInput);
            searchButton.parentNode.replaceChild(newSearchButton, searchButton);
            
            // 重新获取元素引用
            const freshSearchInput = document.getElementById('search-input');
            const freshSearchButton = document.getElementById('search-button');
            
            // 实时搜索
            freshSearchInput.addEventListener('input', handleRealTimeSearch);
            
            // 点击搜索按钮
            freshSearchButton.addEventListener('click', function(e) {
                e.preventDefault();
                console.log('Search button clicked');
                performSearch();
            });
            
            // Enter键搜索
            freshSearchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    console.log('Enter key pressed');
                    performSearch();
                }
            });
            
            // 点击页面其他区域隐藏下拉菜单
            document.addEventListener('click', function(e) {
                if (!e.target.closest('.search-container')) {
                    hideSearchResults();
                }
            });
            
            // 搜索框获得焦点时显示最近的结果
            freshSearchInput.addEventListener('focus', function() {
                if (this.value.trim().length >= 2) {
                    handleRealTimeSearch.call(this);
                }
            });
            
            console.log('Search functionality initialized successfully');
        } else {
            console.error('Search elements not found. Input:', !!searchInput, 'Button:', !!searchButton);
        }
    }

    // 加载header
    function loadHeader() {
        fetch('header.html')
            .then(response => {
                if (!response.ok) throw new Error('header.html not found');
                return response.text();
            })
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
                // 确保下拉菜单容器存在
                if (!document.getElementById('search-results-dropdown')) {
                    const searchContainer = document.querySelector('.search-container');
                    if (searchContainer) {
                        const dropdown = document.createElement('div');
                        dropdown.id = 'search-results-dropdown';
                        dropdown.className = 'search-dropdown';
                        searchContainer.appendChild(dropdown);
                    }
                }
                // 初始化搜索功能
                setTimeout(initSearchFunctionality, 100);
            })
            .catch(error => {
                console.error('Error loading header:', error);
                // 提供基本的header结构（包含下拉菜单容器）
                document.getElementById('header-placeholder').innerHTML = `
                    <header style="padding: 1rem; background: #333; color: white;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; position: relative;">
                            <h1 style="margin: 0 1rem 1rem 0;">A&M INTERNATIONAL ENGINEERING</h1>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <a href="contact.html" style="color: white; text-decoration: none;">Contact Us</a>
                                <div class="search-container">
                                    <input type="text" id="search-input" placeholder="Search..." class="search-input">
                                    <button id="search-button" class="search-button" type="button">
                                        <img src="Image/search-icon.png" alt="Search" class="search-icon">
                                    </button>
                                    <div id="search-results-dropdown" class="search-dropdown"></div>
                                </div>
                            </div>
                        </div>
                    </header>
                `;
                // 初始化搜索功能
                setTimeout(initSearchFunctionality, 100);
            });
    }

    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', function() {
        console.log('DOM fully loaded');
        loadHeader();
    });

    // 如果DOMContentLoaded已经触发，直接加载header
    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadHeader);
    } else {
        loadHeader();
    }
    </script>

    <!-- 以下所有内容保持不变 -->
    <section class="business-concept">
        <div class="concept-card automation-bg">
            <h2>Intelligent & Automated Integration</h2>
            <p>Intelligent & Automated Integration refers to our approach of combining smart technologies, real-time data connectivity, and advanced automation to deliver seamless, scalable, and efficient engineering systems. By integrating IIoT, PLCs, SCADA, and cloud platforms, we enable intelligent control, predictive maintenance, and real-time monitoring across diverse industrial applications—enhancing performance, reducing downtime, and supporting future expansion.</p>
        </div>

        <div class="concept-card solutions-bg">
            <h2>End-to-End Solutions</h2>
            <p> We deliver comprehensive end-to-end solutions that span the entire project lifecycle — from concept design and engineering to seamless implementation, commissioning, and ongoing maintenance. Our approach ensures reliable, efficient, and fully customized systems tailored to meet the specific operational and regulatory requirements of diverse industries. By integrating technical expertise with industry best practices, we empower our clients to achieve sustainable performance and long-term value.</p>
        </div>

        <div class="concept-card security-bg">
            <h2>Security & Compliance</h2>
            <p>Security & Compliance
We prioritize the highest standards of security and compliance by ensuring that all systems we design and implement fully adhere to internationally recognized standards, including ASME, ATMS, AGA, and LR. Our approach guarantees that every project not only meets regulatory requirements but also operates with the utmost stability and security. By focusing on these critical aspects, we provide our clients with systems that are resilient, reliable, and future-proof, helping them navigate complex regulatory landscapes and ensure long-term operational success in diverse industries.</p>
        </div>
    </section>

    <section class="footer-menu">
        <div class="footer-column">
            <h3>Solutions</h3>
            <ul>
                <li><a href="Solutions.html">Supply Chain Optimization</a></li>
                <li><a href="Solutions.html">Asset Operations and Optimization</a></li>
                <li><a href="Solutions.html">Operational Risk Management</a></li>
                <li><a href="Solutions.html">Connected Intelligence</a></li>
                <li><a href="Solutions.html">CCTV Energy Management Solution</a></li>
                <li><a href="Solutions.html">Safety Case Regime</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Products & Services</h3>
            <ul>
                <li><a href="Solutions.html">Control</a></li>
                <li><a href="Solutions.html">Measurement</a></li>
                <li><a href="Solutions.html">Project Execution Services</a></li>
                <li><a href="Solutions.html">Digital Transformation</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Library</h3>
            <ul>
                <li><a href="Libary.html">Documents & Downloads</a></li>
                <li><a href="Libary.html">Resources</a></li>
                <li><a href="Libary.html">Videos</a></li>
                <li><a href="Libary.html">Smart Manufacturing</a></li>
                <li><a href="Libary.html">Digital Transformation</a></li>
                <li><a href="Libary.html">Artificial Intelligence</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Support</h3>
            <ul>
                <li><a href="Support.html">Technical Support</a></li>
                <li><a href="Support.html">Product Finder</a></li>
                <li><a href="Support.html">Customer Portal</a></li>
            </ul>
        </div>
    </section>

    <footer>
        <p>&copy; 2025 A&M INTERNATIONAL ENGINEERING PTE LTD. All rights reserved.</p>
    </footer>
</body>
</html>
