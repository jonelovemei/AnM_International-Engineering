<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A&M INTERNATIONAL ENGINEERING PTE LTD</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* 您的所有原有样式保持不变... */
        
        /* 搜索栏样式 */
        .search-container {
            display: flex;
            align-items: center;
            background: white;
            border-radius: 25px;
            padding: 2px;
            border: 1px solid #ccc;
        }

        .search-input {
            border: none;
            outline: none;
            padding: 8px 15px;
            border-radius: 25px;
            width: 200px;
            font-size: 14px;
            background: transparent;
        }

        .search-button {
            background: #00b4d8;
            border: none;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 50%;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 2px;
            transition: background 0.3s ease;
        }

        .search-button:hover {
            background: #0099b8;
        }

        .search-icon {
            width: 16px;
            height: 16px;
            object-fit: contain;
        }
    </style>
</head>

<body>
    <div id="header-placeholder"></div>

    <script>
        // 搜索功能函数
        function performSearch() {
            const searchInput = document.getElementById('search-input');
            const query = searchInput ? searchInput.value.trim() : '';
            if (query) {
                alert('Searching for: ' + query);
                // 实际搜索逻辑可以在这里实现
                // window.location.href = 'search-results.html?q=' + encodeURIComponent(query);
            } else {
                alert('Please enter search keywords');
            }
        }

        // 修复搜索功能初始化
        function initSearchFunctionality() {
            console.log('Initializing search functionality...');
            
            // 尝试多种可能的按钮选择器
            let searchButton = document.getElementById('search-button');
            
            // 如果找不到，尝试其他可能的选择器
            if (!searchButton) {
                searchButton = document.querySelector('button[type="submit"]');
            }
            if (!searchButton) {
                searchButton = document.querySelector('.search-button');
            }
            if (!searchButton) {
                // 查找包含"Search"文字的按钮
                const buttons = document.querySelectorAll('button');
                searchButton = Array.from(buttons).find(btn => 
                    btn.textContent.includes('Search') || 
                    btn.innerHTML.includes('Search')
                );
            }
            
            const searchInput = document.getElementById('search-input');
            
            console.log('Search input found:', !!searchInput);
            console.log('Search button found:', !!searchButton);
            console.log('All buttons on page:', document.querySelectorAll('button').length);
            
            if (searchInput && searchButton) {
                // 移除可能存在的旧事件监听器
                searchButton.replaceWith(searchButton.cloneNode(true));
                const newSearchButton = document.getElementById(searchButton.id) || 
                                      document.querySelector('button[type="submit"]') || 
                                      document.querySelector('.search-button');
                
                // 点击搜索按钮事件
                newSearchButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    console.log('Search button clicked');
                    performSearch();
                });
                
                // Enter键搜索功能
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        console.log('Enter key pressed');
                        performSearch();
                    }
                });
                
                // 移除按钮上的onclick属性（如果有冲突）
                newSearchButton.removeAttribute('onclick');
                
                console.log('Search functionality initialized successfully');
            } else {
                console.error('Search elements not found');
                
                // 如果还是找不到，尝试通过父元素查找
                if (searchInput) {
                    const parent = searchInput.parentElement;
                    const buttons = parent.querySelectorAll('button');
                    if (buttons.length > 0) {
                        const button = buttons[0];
                        button.addEventListener('click', performSearch);
                        console.log('Found button via parent element');
                    }
                }
            }
        }

        // 定义searchSite函数（解决ReferenceError）
        function searchSite() {
            performSearch();
        }

        // 加载header
        fetch('header.html')
            .then(response => {
                if (!response.ok) {
                    throw new Error('header.html not found');
                }
                return response.text();
            })
            .then(data => {
                document.getElementById('header-placeholder').innerHTML = data;
                // 等待DOM更新后初始化搜索功能
                setTimeout(initSearchFunctionality, 100);
            })
            .catch(error => {
                console.error('Error loading header:', error);
                // 如果header.html不存在，提供正确的header结构
                document.getElementById('header-placeholder').innerHTML = `
                    <header style="padding: 1rem; background: #333; color: white;">
                        <div style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap;">
                            <h1 style="margin: 0 1rem 1rem 0;">A&M INTERNATIONAL ENGINEERING</h1>
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <a href="Contact Us" style="color: white; text-decoration: none;">Contact Us</a>
                                <div class="search-container">
                                    <input type="text" id="search-input" placeholder="Search..." class="search-input">
                                    <button id="search-button" class="search-button" type="button">
                                        <img src="Image/search-icon.png" alt="Search" class="search-icon">
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>
                `;
                // 等待DOM更新后初始化搜索功能
                setTimeout(initSearchFunctionality, 100);
            });

        // 页面加载完成后再次初始化（确保所有元素都已加载）
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(initSearchFunctionality, 300);
        });

        // 窗口加载完成后也初始化一次
        window.addEventListener('load', function() {
            setTimeout(initSearchFunctionality, 500);
        });
    </script>

    <!-- 以下所有内容保持不变 -->
    <section class="business-concept">
        <div class="concept-card automation-bg">
            <h2>Intelligent & Automated Integration</h2>
            <p>Intelligent & Automated Integration refers to our approach of combining smart technologies, real-time data connectivity, and advanced automation to deliver seamless, scalable, and efficient engineering systems. By integrating IIoT, PLCs, SCADA, and cloud platforms, we enable intelligent control, predictive maintenance, and real-time monitoring across diverse industrial applications—enhancing performance, reducing downtime, and supporting future expansion.</p>
        </div>

        <div class="concept-card solutions-bg">
            <h2>End-to-End Solutions</h2>
            <p> We deliver comprehensive end-to-end solutions that span the entire project lifecycle — from concept design and engineering to seamless implementation, commissioning, and ongoing maintenance. Our approach ensures reliable, efficient, and fully customized systems tailored to meet the specific operational and regulatory requirements of diverse industries. By integrating technical expertise with industry best practices, we empower our clients to achieve sustainable performance and long-term value.</p>
        </div>

        <div class="concept-card security-bg">
            <h2>Security & Compliance</h2>
            <p>Security & Compliance
We prioritize the highest standards of security and compliance by ensuring that all systems we design and implement fully adhere to internationally recognized standards, including ASME, ATMS, AGA, and LR. Our approach guarantees that every project not only meets regulatory requirements but also operates with the utmost stability and security. By focusing on these critical aspects, we provide our clients with systems that are resilient, reliable, and future-proof, helping them navigate complex regulatory landscapes and ensure long-term operational success in diverse industries.</p>
        </div>
    </section>

    <section class="footer-menu">
        <!-- Footer内容保持不变 -->
    </section>

    <footer>
        <p>&copy; 2025 A&M INTERNATIONAL ENGINEERING PTE LTD. All rights reserved.</p>
    </footer>
</body>
</html>
