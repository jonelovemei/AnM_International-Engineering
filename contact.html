<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact Us - A&M INTERNATIONAL ENGINEERING</title>
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    // 使用您提供的Public Key
    (function(){
      emailjs.init("SOwzoGHNOGo7FPvH6");
    })();
  </script>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #ffffff;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    /* 页眉样式 - 默认 */
    #header-placeholder {
      position: sticky;
      top: 0;
      z-index: 1000;
      width: 100%;
    }

    /* 移动设备页眉调整 - 优化版本 */
    @media (max-width: 768px) {
      #header-placeholder {
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
      }
      
      #header-placeholder nav {
        min-width: 100%;
        white-space: nowrap;
        display: flex;
        justify-content: flex-start;
        padding: 10px 0;
      }
      
      #header-placeholder nav ul {
        display: flex;
        flex-wrap: nowrap;
        padding: 0 15px;
        margin: 0;
        min-width: max-content;
      }
      
      #header-placeholder nav li {
        display: inline-block;
        margin-right: 20px;
        flex-shrink: 0;
      }
      
      #header-placeholder nav a {
        font-size: 16px; /* 适中的移动设备字体大小 */
        padding: 8px 12px;
        white-space: nowrap;
        display: inline-block;
      }
      
      /* 确保logo和品牌名称也适应移动设备 */
      #header-placeholder .logo,
      #header-placeholder .brand-name {
        flex-shrink: 0;
      }
      
      /* 确保整个header内容可以水平滚动 */
      #header-placeholder > div {
        min-width: 100%;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }
    }

    /* 平板设备优化 */
    @media (max-width: 1024px) and (min-width: 769px) {
      #header-placeholder nav a {
        font-size: 15px;
        padding: 10px 15px;
      }
    }

    main {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 90%;
      max-width: 1200px;
      margin-top: 80px;
      gap: 60px;
    }

    .contact-section {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      width: 100%;
      gap: 40px;
    }

    .contact-info {
      flex: 1;
    }

    .contact-info h2 {
      color: #005577;
      font-size: 20px;
      margin-bottom: 20px;
    }

    .contact-info p {
      font-size: 16px;
      color: #222;
      line-height: 1.6;
      margin: 5px 0;
    }

    .qr-section {
      flex-shrink: 0;
      text-align: center;
    }

    .qr-section img {
      width: 160px;
      height: auto;
    }

    .qr-section div {
      margin-top: 5px;
      font-size: 14px;
      color: #555;
    }

    /* Feedback整体居中 + 样式优化 */
    .feedback-container {
      width: 800px;
      max-width: 90%;
      background-color: #f4f4f4;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      margin: 0 auto;
    }

    .feedback-container h3 {
      text-align: center;
      color: #005577;
      margin-bottom: 25px;
      font-size: 22px;
    }

    .form-row {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      margin-bottom: 20px;
    }

    .form-group {
      flex: 1;
      min-width: 200px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      color: #333;
      font-weight: bold;
    }

    .form-control {
      width: 100%;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 16px;
      box-sizing: border-box;
    }

    .feedback-textarea {
      width: 100%;
      height: 200px;
      padding: 10px;
      border-radius: 4px;
      border: 1px solid #ddd;
      font-size: 16px;
      color: #333;
      resize: none;
      margin-bottom: 15px;
      box-sizing: border-box;
    }

    .submit-btn {
      width: 100%;
      padding: 12px;
      border: none;
      background-color: #005577;
      color: white;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: bold;
    }

    .submit-btn:hover {
      background-color: #003f53;
    }

    .submit-btn:disabled {
      background-color: #7a9fb1;
      cursor: not-allowed;
    }

    .message {
      padding: 10px;
      margin: 10px 0;
      border-radius: 4px;
      text-align: center;
      display: none;
    }

    .success {
      background-color: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }

    .error {
      background-color: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    footer {
      text-align: center;
      padding: 20px 0;
      background-color: #333;
      color: white;
      margin-top: 60px;
      width: 100%;
    }

    /* 响应式设计 */
    @media (max-width: 768px) {
      .contact-section {
        flex-direction: column;
        gap: 30px;
      }
      
      .qr-section {
        align-self: center;
      }
      
      .feedback-container {
        padding: 20px;
        width: 95%;
      }
      
      .form-row {
        flex-direction: column;
        gap: 15px;
      }
      
      .form-group {
        min-width: 100%;
      }
      
      /* 移动设备上的字体大小调整 */
      .contact-info h2 {
        font-size: 18px;
      }
      
      .contact-info p {
        font-size: 15px;
      }
      
      .feedback-container h3 {
        font-size: 20px;
      }
      
      .form-group label {
        font-size: 15px;
      }
      
      footer p {
        font-size: 14px;
      }
    }
        main {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 90%;
      max-width: 1200px;
      margin-top: 140px; /* 增加顶部间距，避免被页眉遮挡 */
      gap: 60px;
    }

    /* 移动设备上调整顶部间距 */
    @media (max-width: 768px) {
      main {
        margin-top: 160px; /* 移动设备上需要更多空间 */
      }
    }

    
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <main>
    <!-- 联系信息 + QR码（横排） -->
    <div class="contact-section">
      <div class="contact-info">
        <h2>Contact Information</h2>
        <p>Phone: +65 8588 9506 (WhatsApp Same#)</p>
        <p>
          Email: 
          <a href="mailto:anm_info@anmie.com.sg?subject=Inquiry from Website&body=Dear A&M INTERNATIONAL ENGINEERING,%0D%0A%0D%0A"
             style="color:#005577; text-decoration:none;">
             anm_info@anmie.com.sg
          </a>
        </p>
        <p>WeChat: AM_Engineering</p>
        <p>Address: BLK13,#1408, Anchorval Crescent,(S)544650</p>
        <p>
          Website: 
          <a href="https://anmie.com.sg/" target="_blank" style="color:#005577; text-decoration:none;">
            https://anmie.com.sg/
          </a>
        </p>
      </div>

      <div class="qr-section">
        <img src="Image/contact_qr_with_logo.png" alt="Contact QR Code with Logo" />
        <div>Scan to connect us on WeChat / WhatsApp</div>
      </div>
    </div>

    <!-- Feedback Form 发送 Email -->
    <form class="feedback-container" id="feedbackForm">
      <h3>Feedback</h3>
      
      <div id="successMessage" class="message success">Thank you! Your feedback has been sent successfully.</div>
      <div id="errorMessage" class="message error">Sorry, there was an error sending your feedback. Please try again.</div>
      
      <!-- 个人信息部分 -->
      <div class="form-row">
        <div class="form-group">
          <label for="salutation">Salutation</label>
          <select class="form-control" id="salutation" name="salutation" required>
            <option value="">Please select</option>
            <option value="Mr.">Mr.</option>
            <option value="Ms.">Ms.</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input type="text" class="form-control" id="firstName" name="firstName" required>
        </div>
        
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input type="text" class="form-control" id="lastName" name="lastName" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="tel" class="form-control" id="phone" name="phone" required>
        </div>
        
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="company">Company Name</label>
          <input type="text" class="form-control" id="company" name="company">
        </div>
      </div>
      
      <!-- 反馈内容 -->
      <div class="form-group">
        <label for="message">Your Message</label>
        <textarea class="feedback-textarea" id="message" name="message" placeholder="Write your feedback here... (Max 500 characters)" maxlength="500" required></textarea>
      </div>
      
      <button class="submit-btn" type="submit" id="submitBtn">Submit Feedback</button>
    </form>
  </main>

  <footer>
    <p>&copy; 2025 A&M INTERNATIONAL ENGINEERING PTE LTD. All rights reserved.</p>
  </footer>

  <script>
    // 加载header
    fetch('header.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('header-placeholder').innerHTML = data;
        
        // 确保导航栏在移动设备上可以左右滚动
        setTimeout(function() {
          const headerPlaceholder = document.getElementById('header-placeholder');
          if (window.innerWidth <= 768) {
            // 添加水平滚动指示器
            const nav = headerPlaceholder.querySelector('nav');
            if (nav) {
              nav.style.overflowX = 'auto';
              nav.style.overflowY = 'hidden';
              nav.style.WebkitOverflowScrolling = 'touch';
            }
          }
        }, 100);
      })
      .catch(error => console.error('Error loading header:', error));

    // 表单提交处理
    document.getElementById('feedbackForm').addEventListener('submit', function(event) {
      event.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const successMessage = document.getElementById('successMessage');
      const errorMessage = document.getElementById('errorMessage');
      
      // 禁用提交按钮
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      
      // 隐藏之前的消息
      successMessage.style.display = 'none';
      errorMessage.style.display = 'none';
      
      // 获取表单数据
      const formData = new FormData(this);
      const data = {
        salutation: formData.get('salutation'),
        firstName: formData.get('firstName'),
        lastName: formData.get('lastName'),
        phone: formData.get('phone'),
        email: formData.get('email'),
        company: formData.get('company'),
        message: formData.get('message')
      };
      
      // 获取当前日期
      const now = new Date();
      const currentDate = `${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}`;
      
      // 使用EmailJS发送邮件
      emailjs.send('service_ina3k0y', 'template_v7ece8m', {
        date: currentDate,
        salutation: data.salutation,
        first_name: data.firstName,
        last_name: data.lastName,
        phone: data.phone,
        email: data.email,
        company: data.company,
        message: data.message
      })
      .then(function(response) {
        console.log('SUCCESS!', response.status, response.text);
        successMessage.style.display = 'block';
        document.getElementById('feedbackForm').reset();
      })
      .catch(function(error) {
        console.error('FAILED...', error);
        errorMessage.style.display = 'block';
      })
      .finally(function() {
        // 重新启用提交按钮
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Feedback';
      });
    });
    
    // 窗口大小变化时重新应用移动设备样式
    window.addEventListener('resize', function() {
      const headerPlaceholder = document.getElementById('header-placeholder');
      if (window.innerWidth <= 768) {
        const nav = headerPlaceholder.querySelector('nav');
        if (nav) {
          nav.style.overflowX = 'auto';
          nav.style.overflowY = 'hidden';
          nav.style.WebkitOverflowScrolling = 'touch';
        }
      }
    });
  </script>
</body>
</html>
