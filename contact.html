<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Contact Us - A&M INTERNATIONAL ENGINEERING</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
  <script>
    (function(){
      emailjs.init("SOwzoGHNOGo7FPvH6");
    })();
  </script>
  <style>
    /* 添加这些样式确保反馈表单与页脚菜单有足够间距 */
    body {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    main {
      flex: 1;
    }
    
    .feedback-container {
      margin-bottom: 80px;
    }
    
    @media (max-width: 768px) {
      .feedback-container {
        margin-bottom: 60px;
      }
    }
  </style>
</head>
<body>
  <div id="header-placeholder"></div>

  <main>
    <div class="contact-section">
      <div class="contact-info">
        <h2>Contact Information</h2>
        <p>Phone: +65 8588 9506 (WhatsApp Same#)</p>
        <p>
          Email: 
          <a href="mailto:anm_info@anmie.com.sg?subject=Inquiry from Website&body=Dear A&M INTERNATIONAL ENGINEERING,%0D%0A%0D%0A"
             style="color:#005577; text-decoration:none;">
             anm_info@anmie.com.sg
          </a>
        </p>
        <p>WeChat: AM_Engineering</p>
        <p>Address: BLK13,#1408, Anchorval Crescent,(S)544650</p>
        <p>
          Website: 
          <a href="https://anmie.com.sg/" target="_blank" style="color:#005577; text-decoration:none;">
            https://anmie.com.sg/
          </a>
        </p>
      </div>

      <div class="qr-section">
        <img src="Image/contact_qr_with_logo.png" alt="Contact QR Code with Logo" />
        <div>Scan to connect us on WeChat / WhatsApp</div>
      </div>
    </div>

    <form class="feedback-container" id="feedbackForm">
      <h3>Feedback</h3>
      
      <div id="successMessage" class="message success">Thank you! Your feedback has been sent successfully.</div>
      <div id="errorMessage" class="message error">Sorry, there was an error sending your feedback. Please try again.</div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="salutation">Salutation</label>
          <select class="form-control" id="salutation" name="salutation" required>
            <option value="">Please select</option>
            <option value="Mr.">Mr.</option>
            <option value="Ms.">Ms.</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input type="text" class="form-control" id="firstName" name="firstName" required>
        </div>
        
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input type="text" class="form-control" id="lastName" name="lastName" required>
        </div>
      </div>
      
      <div class="form-row">
        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="tel" class="form-control" id="phone" name="phone" required>
        </div>
        
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" name="email" required>
        </div>
        
        <div class="form-group">
          <label for="company">Company Name</label>
          <input type="text" class="form-control" id="company" name="company">
        </div>
      </div>
      
      <div class="form-group">
        <label for="message">Your Message</label>
        <textarea class="feedback-textarea" id="message" name="message" placeholder="Write your feedback here... (Max 500 characters)" maxlength="500" required></textarea>
      </div>
      
      <button class="submit-btn" type="submit" id="submitBtn">Submit Feedback</button>
    </form>
  </main>

  <!-- 页脚组件 -->
  <footer>
    <p class="footer-text">&copy; 2025 A&M INTERNATIONAL ENGINEERING PTE LTD. ALL RIGHTS RESERVED.</p>
  </footer>

  <script>
    // 加载header
    fetch('header.html')
      .then(response => {
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        return response.text();
      })
      .then(data => {
        document.getElementById('header-placeholder').innerHTML = data;
        
        // 重新执行header中的脚本
        const scripts = document.getElementById('header-placeholder').getElementsByTagName('script');
        for (let script of scripts) {
          const newScript = document.createElement('script');
          if (script.src) {
            newScript.src = script.src;
          } else {
            newScript.textContent = script.textContent;
          }
          document.head.appendChild(newScript).remove();
        }
      })
      .catch(error => {
        console.error('Error loading header:', error);
        // 提供基本的header结构
        document.getElementById('header-placeholder').innerHTML = `
          <header style="padding: 15px 20px; background-color: #2c3e50; display: flex; align-items: center; background-image: url('Image/24.jpg'); background-size: cover; background-position: center;">
            <img src="Image/logo.png" alt="Company Logo" style="height: 60px; margin-right: 15px;">
            <div>
              <h1 style="margin: 0; color: white; font-size: 24px;">A&M INTERNATIONAL ENGINEERING PTE LTD</h1>
              <p style="margin: 5px 0 0; color: white; font-size: 14px;">A professional integration solution provider</p>
            </div>
          </header>
          <nav style="display: flex; align-items: center; background-color: #2980b9; padding: 10px 20px; overflow-x: auto; white-space: nowrap;">
            <a href="index.html" style="color: white; text-decoration: none; padding: 10px 15px;">Home</a>
            <a href="about.html" style="color: white; text-decoration: none; padding: 10px 15px;">About Us</a>
            <a href="Solutions.html" style="color: white; text-decoration: none; padding: 10px 15px;">Solutions</a>
            <a href="services.html" style="color: white; text-decoration: none; padding: 10px 15px;">Products & Services</a>
            <a href="projects.html" style="color: white; text-decoration: none; padding: 10px 15px;">Projects</a>
            <a href="Support.html" style="color: white; text-decoration: none; padding: 10px 15px;">Support</a>
            <a href="Libary.html" style="color: white; text-decoration: none; padding: 10px 15px;">Library</a>
            <a href="contact.html" style="color: white; text-decoration: none; padding: 10px 15px;">Contact Us</a>
            <div class="search-container" style="display: flex; align-items: center; background: white; border-radius: 25px; padding: 2px; border: 1px solid #ccc; position: relative; margin-left: auto;">
              <input type="text" id="search-input" placeholder="Search..." class="search-input" autocomplete="off" style="border: none; outline: none; padding: 8px 15px; border-radius: 25px; width: 200px; font-size: 14px; background: transparent;">
              <div id="search-results-dropdown" class="search-dropdown" style="position: absolute; top: 100%; left: 0; right: 0; background: white; border: 1px solid #ccc; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); max-height: 300px; overflow-y: auto; z-index: 10000; display: none;"></div>
            </div>
          </nav>
        `;
      });

    // 表单提交处理
    document.getElementById('feedbackForm').addEventListener('submit', function(event) {
      event.preventDefault();
      
      const submitBtn = document.getElementById('submitBtn');
      const successMessage = document.getElementById('successMessage');
      const errorMessage = document.getElementById('errorMessage');
      
      submitBtn.disabled = true;
      submitBtn.textContent = 'Sending...';
      
      successMessage.style.display = 'none';
      errorMessage.style.display = 'none';
      
      const formData = new FormData(this);
      const data = {
        salutation: formData.get('salutation'),
        firstName: formData.get('firstName'),
        lastName: formData.get('lastName'),
        phone: formData.get('phone'),
        email: formData.get('email'),
        company: formData.get('company'),
        message: formData.get('message')
      };
      
      const now = new Date();
      const currentDate = `${now.getFullYear()}${String(now.getMonth() + 1).padStart(2, '0')}${String(now.getDate()).padStart(2, '0')}`;
      
      emailjs.send('service_ina3k0y', 'template_v7ece8m', {
        date: currentDate,
        salutation: data.salutation,
        first_name: data.firstName,
        last_name: data.lastName,
        phone: data.phone,
        email: data.email,
        company: data.company,
        message: data.message
      })
      .then(function(response) {
        console.log('SUCCESS!', response.status, response.text);
        successMessage.style.display = 'block';
        document.getElementById('feedbackForm').reset();
      })
      .catch(function(error) {
        console.error('FAILED...', error);
        errorMessage.style.display = 'block';
      })
      .finally(function() {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Feedback';
      });
    });
  </script>

   <section class="footer-menu">
        <div class="footer-column">
            <h3>Solutions</h3>
            <ul>
                <li><a href="Solutions.html">Supply Chain Optimization</a></li>
                <li><a href="Solutions.html">Asset Operations and Optimization</a></li>
                <li><a href="Solutions.html">Operational Risk Management</a></li>
                <li><a href="Solutions.html">Connected Intelligence</a></li>
                <li><a href="Solutions.html">CCTV Energy Management Solution</a></li>
                <li><a href="Solutions.html">Safety Case Regime</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Products & Services</h3>
            <ul>
                <li><a href="Solutions.html">Control</a></li>
                <li><a href="Solutions.html">Measurement</a></li>
                <li><a href="Solutions.html">Project Execution Services</a></li>
                <li><a href="Solutions.html">Digital Transformation</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Library</h3>
            <ul>
                <li><a href="Libary.html">Documents & Downloads</a></li>
                <li><a href="Libary.html">Resources</a></li>
                <li><a href="Libary.html">Videos</a></li>
                <li><a href="Libary.html">Smart Manufacturing</a></li>
                <li><a href="Libary.html">Digital Transformation</a></li>
                <li><a href="Libary.html">Artificial Intelligence</a></li>
            </ul>
        </div>

        <div class="footer-column">
            <h3>Support</h3>
            <ul>
                <li><a href="Support.html">Technical Support</a></li>
                <li><a href="Support.html">Product Finder</a></li>
                <li><a href="Support.html">Customer Portal</a></li>
            </ul>
        </div>
    </section>
</body>
</html>
